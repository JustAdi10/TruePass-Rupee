{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hardik\\\\Documents\\\\Nft\\\\src\\\\components\\\\layout\\\\Navbar.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { AppBar, Toolbar, Typography, Button, Box, IconButton, InputBase, Badge, Menu, MenuItem, Avatar, Chip, Alert, Snackbar } from '@mui/material';\nimport { Link as RouterLink, useLocation, useNavigate } from 'react-router-dom';\nimport SearchIcon from '@mui/icons-material/Search';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\nimport AccountBalanceWalletIcon from '@mui/icons-material/AccountBalanceWallet';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport { useSearch } from '../../context/SearchContext';\nimport { useCart } from '../../context/CartContext';\n\n// Define window.ethereum for TypeScript\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Navbar = () => {\n  _s();\n  const [inputValue, setInputValue] = useState('');\n  const {\n    handleSearch\n  } = useSearch();\n  const {\n    cartItemCount\n  } = useCart();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  // Wallet states\n  const [walletConnected, setWalletConnected] = useState(false);\n  const [walletAddress, setWalletAddress] = useState('');\n  const [walletBalance, setWalletBalance] = useState('0');\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [notification, setNotification] = useState({\n    show: false,\n    message: '',\n    type: 'info'\n  });\n\n  // Check if MetaMask is installed\n  const isMetaMaskInstalled = () => {\n    return window.ethereum && window.ethereum.isMetaMask;\n  };\n\n  // Format wallet address for display\n  const formatAddress = address => {\n    if (!address) return '';\n    return `${address.substring(0, 6)}...${address.substring(address.length - 4)}`;\n  };\n\n  // Format balance to 4 decimal places\n  const formatBalance = balanceInWei => {\n    // Convert wei to ETH (1 ETH = 10^18 wei)\n    const ethBalance = parseInt(balanceInWei, 16) / Math.pow(10, 18);\n    return ethBalance.toFixed(4);\n  };\n\n  // Handle account changes from MetaMask\n  const handleAccountsChanged = accounts => {\n    if (accounts.length === 0) {\n      // User has disconnected all accounts\n      setWalletConnected(false);\n      setWalletAddress('');\n      setWalletBalance('0');\n      setNotification({\n        show: true,\n        message: 'Wallet disconnected',\n        type: 'info'\n      });\n    } else {\n      // User has changed the active account\n      setWalletAddress(accounts[0]);\n      getBalance(accounts[0]);\n    }\n  };\n\n  // Handle chain changes from MetaMask\n  const handleChainChanged = () => {\n    // Recommended by MetaMask to refresh the page on chain change\n    window.location.reload();\n  };\n\n  // Check for existing connection on mount\n  useEffect(() => {\n    const checkConnection = async () => {\n      if (isMetaMaskInstalled()) {\n        try {\n          // Check if user is already connected\n          const accounts = await window.ethereum.request({\n            method: 'eth_accounts'\n          });\n          if (accounts && accounts.length > 0) {\n            setWalletConnected(true);\n            setWalletAddress(accounts[0]);\n            getBalance(accounts[0]);\n          }\n\n          // Add event listeners\n          window.ethereum.on('accountsChanged', handleAccountsChanged);\n          window.ethereum.on('chainChanged', handleChainChanged);\n        } catch (error) {\n          console.error('Failed to connect to MetaMask:', error);\n        }\n      }\n    };\n    checkConnection();\n\n    // Cleanup event listeners\n    return () => {\n      if (window.ethereum && window.ethereum.removeListener) {\n        window.ethereum.removeListener('accountsChanged', handleAccountsChanged);\n        window.ethereum.removeListener('chainChanged', handleChainChanged);\n      }\n    };\n  }, []);\n\n  // Sync input value with URL search param when on marketplace\n  useEffect(() => {\n    if (location.pathname === '/marketplace') {\n      const params = new URLSearchParams(location.search);\n      const searchQuery = params.get('search') || '';\n      setInputValue(searchQuery);\n    } else {\n      setInputValue('');\n    }\n  }, [location]);\n\n  // Get ETH balance for the account\n  const getBalance = async account => {\n    if (!account || !isMetaMaskInstalled()) return;\n    try {\n      const balance = await window.ethereum.request({\n        method: 'eth_getBalance',\n        params: [account, 'latest']\n      });\n      setWalletBalance(formatBalance(balance));\n    } catch (error) {\n      console.error('Error getting balance:', error);\n      setNotification({\n        show: true,\n        message: 'Failed to get wallet balance',\n        type: 'error'\n      });\n    }\n  };\n  const handleInputChange = event => {\n    const newValue = event.target.value;\n    setInputValue(newValue);\n    if (location.pathname === '/marketplace') {\n      handleSearch(newValue);\n    }\n  };\n  const handleSearchClick = () => {\n    if (inputValue.trim()) {\n      if (location.pathname !== '/marketplace') {\n        navigate(`/marketplace?search=${encodeURIComponent(inputValue.trim())}`);\n      } else {\n        handleSearch(inputValue.trim());\n      }\n    }\n  };\n  const handleKeyPress = event => {\n    if (event.key === 'Enter') {\n      handleSearchClick();\n    }\n  };\n  const handleClearSearch = () => {\n    setInputValue('');\n    handleSearch('');\n  };\n  const handleCartClick = () => {\n    // Navigate to cart page\n    navigate('/cart');\n  };\n  const handleConnectWallet = async () => {\n    if (!isMetaMaskInstalled()) {\n      setNotification({\n        show: true,\n        message: 'Please install MetaMask extension to connect a wallet',\n        type: 'warning'\n      });\n      window.open('https://metamask.io/download/', '_blank');\n      return;\n    }\n    try {\n      // Request access to the user's accounts\n      const accounts = await window.ethereum.request({\n        method: 'eth_requestAccounts'\n      });\n      if (accounts.length > 0) {\n        const account = accounts[0];\n        setWalletAddress(account);\n        setWalletConnected(true);\n        getBalance(account);\n        setNotification({\n          show: true,\n          message: 'Wallet connected successfully',\n          type: 'success'\n        });\n      }\n    } catch (error) {\n      console.error('Error connecting to MetaMask:', error);\n\n      // Handle user rejected request\n      if (error.code === 4001) {\n        setNotification({\n          show: true,\n          message: 'Connection request rejected by user',\n          type: 'info'\n        });\n      } else {\n        setNotification({\n          show: true,\n          message: 'Failed to connect wallet: ' + (error.message || 'Unknown error'),\n          type: 'error'\n        });\n      }\n    }\n  };\n  const handleDisconnectWallet = () => {\n    // MetaMask doesn't support programmatic disconnection via API\n    // We can only reset our app's state to simulate disconnection\n    setWalletConnected(false);\n    setWalletAddress('');\n    setWalletBalance('0');\n    setAnchorEl(null);\n    setNotification({\n      show: true,\n      message: 'Wallet disconnected from application',\n      type: 'info'\n    });\n  };\n  const handleWalletClick = event => {\n    if (walletConnected) {\n      setAnchorEl(event.currentTarget);\n    } else {\n      handleConnectWallet();\n    }\n  };\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n  };\n  const copyAddressToClipboard = () => {\n    navigator.clipboard.writeText(walletAddress);\n    setNotification({\n      show: true,\n      message: 'Address copied to clipboard',\n      type: 'success'\n    });\n    handleCloseMenu();\n  };\n  const handleCloseNotification = () => {\n    setNotification(prev => ({\n      ...prev,\n      show: false\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(AppBar, {\n    position: \"fixed\",\n    sx: {\n      bgcolor: 'rgba(22, 28, 36, 0.8)',\n      backdropFilter: 'blur(6px)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n      sx: {\n        justifyContent: 'space-between'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        component: RouterLink,\n        to: \"/\",\n        sx: {\n          textDecoration: 'none',\n          color: 'inherit',\n          fontWeight: 'bold'\n        },\n        children: \"NFT Marketplace\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            position: 'relative',\n            bgcolor: 'rgba(255, 255, 255, 0.15)',\n            borderRadius: 1,\n            display: 'flex',\n            alignItems: 'center',\n            width: '300px',\n            transition: 'width 0.3s ease-in-out',\n            '&:hover': {\n              bgcolor: 'rgba(255, 255, 255, 0.25)'\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(InputBase, {\n            placeholder: \"Search NFTs...\",\n            value: inputValue,\n            onChange: handleInputChange,\n            onKeyPress: handleKeyPress,\n            sx: {\n              color: 'inherit',\n              flex: 1,\n              '& .MuiInputBase-input': {\n                p: 1,\n                pl: 2,\n                width: '100%',\n                '&::placeholder': {\n                  color: 'rgba(255, 255, 255, 0.7)',\n                  opacity: 1\n                }\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), inputValue && /*#__PURE__*/_jsxDEV(IconButton, {\n            size: \"small\",\n            onClick: handleClearSearch,\n            sx: {\n              color: 'inherit',\n              opacity: 0.7,\n              p: 0.5\n            },\n            children: /*#__PURE__*/_jsxDEV(ClearIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            size: \"small\",\n            onClick: handleSearchClick,\n            sx: {\n              color: 'inherit',\n              opacity: 0.7,\n              mr: 1,\n              ml: 0.5\n            },\n            children: /*#__PURE__*/_jsxDEV(SearchIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"inherit\",\n          component: RouterLink,\n          to: \"/marketplace\",\n          sx: {\n            '&:hover': {\n              bgcolor: 'rgba(255, 255, 255, 0.1)'\n            }\n          },\n          children: \"Marketplace\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"inherit\",\n          component: RouterLink,\n          to: \"/create-nft\",\n          sx: {\n            '&:hover': {\n              bgcolor: 'rgba(255, 255, 255, 0.1)'\n            }\n          },\n          children: \"Create NFT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"inherit\",\n          component: RouterLink,\n          to: \"/profile\",\n          sx: {\n            '&:hover': {\n              bgcolor: 'rgba(255, 255, 255, 0.1)'\n            }\n          },\n          children: \"Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"inherit\",\n          onClick: handleCartClick,\n          sx: {\n            ml: 1,\n            '&:hover': {\n              bgcolor: 'rgba(255, 255, 255, 0.1)'\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(Badge, {\n            badgeContent: cartItemCount,\n            color: \"error\",\n            children: /*#__PURE__*/_jsxDEV(ShoppingCartIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this), walletConnected ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Chip, {\n            onClick: handleWalletClick,\n            avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n              sx: {\n                bgcolor: '#ff9800'\n              },\n              children: /*#__PURE__*/_jsxDEV(AccountBalanceWalletIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 61\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 25\n            }, this),\n            label: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  mr: 1\n                },\n                children: formatAddress(walletAddress)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(KeyboardArrowDownIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 19\n            }, this),\n            variant: \"filled\",\n            sx: {\n              bgcolor: 'rgba(255, 255, 255, 0.15)',\n              '&:hover': {\n                bgcolor: 'rgba(255, 255, 255, 0.25)'\n              },\n              height: 36,\n              borderRadius: 4,\n              px: 0.5\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Menu, {\n            anchorEl: anchorEl,\n            open: Boolean(anchorEl),\n            onClose: handleCloseMenu,\n            PaperProps: {\n              sx: {\n                bgcolor: 'rgba(22, 28, 36, 0.95)',\n                backdropFilter: 'blur(6px)',\n                border: '1px solid rgba(255, 255, 255, 0.1)',\n                color: 'white',\n                mt: 1.5,\n                minWidth: 200\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                px: 2,\n                py: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                sx: {\n                  opacity: 0.7\n                },\n                children: \"Wallet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  wordBreak: 'break-all'\n                },\n                children: walletAddress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                px: 2,\n                py: 1,\n                borderTop: '1px solid rgba(255, 255, 255, 0.1)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                sx: {\n                  opacity: 0.7\n                },\n                children: \"Balance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: [walletBalance, \" ETH\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              onClick: copyAddressToClipboard,\n              sx: {\n                borderTop: '1px solid rgba(255, 255, 255, 0.1)',\n                mt: 1\n              },\n              children: \"Copy Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              onClick: handleDisconnectWallet,\n              children: \"Disconnect\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(AccountBalanceWalletIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 26\n          }, this),\n          onClick: handleConnectWallet,\n          sx: {\n            bgcolor: '#ff9800',\n            color: 'white',\n            '&:hover': {\n              bgcolor: '#f57c00'\n            },\n            ml: 1,\n            borderRadius: 4\n          },\n          children: \"Connect MetaMask\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: notification.show,\n      autoHideDuration: 4000,\n      onClose: handleCloseNotification,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'right'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseNotification,\n        severity: notification.type,\n        variant: \"filled\",\n        sx: {\n          width: '100%'\n        },\n        children: notification.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n};\n_s(Navbar, \"9w04MjK0Qv4YWhBb1s+xZHX/v7s=\", false, function () {\n  return [useSearch, useCart, useLocation, useNavigate];\n});\n_c = Navbar;\nexport default Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["React","useState","useEffect","AppBar","Toolbar","Typography","Button","Box","IconButton","InputBase","Badge","Menu","MenuItem","Avatar","Chip","Alert","Snackbar","Link","RouterLink","useLocation","useNavigate","SearchIcon","ClearIcon","ShoppingCartIcon","AccountBalanceWalletIcon","KeyboardArrowDownIcon","useSearch","useCart","jsxDEV","_jsxDEV","Fragment","_Fragment","Navbar","_s","inputValue","setInputValue","handleSearch","cartItemCount","location","navigate","walletConnected","setWalletConnected","walletAddress","setWalletAddress","walletBalance","setWalletBalance","anchorEl","setAnchorEl","notification","setNotification","show","message","type","isMetaMaskInstalled","window","ethereum","isMetaMask","formatAddress","address","substring","length","formatBalance","balanceInWei","ethBalance","parseInt","Math","pow","toFixed","handleAccountsChanged","accounts","getBalance","handleChainChanged","reload","checkConnection","request","method","on","error","console","removeListener","pathname","params","URLSearchParams","search","searchQuery","get","account","balance","handleInputChange","event","newValue","target","value","handleSearchClick","trim","encodeURIComponent","handleKeyPress","key","handleClearSearch","handleCartClick","handleConnectWallet","open","code","handleDisconnectWallet","handleWalletClick","currentTarget","handleCloseMenu","copyAddressToClipboard","navigator","clipboard","writeText","handleCloseNotification","prev","position","sx","bgcolor","backdropFilter","children","justifyContent","variant","component","to","textDecoration","color","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","display","alignItems","gap","borderRadius","width","transition","placeholder","onChange","onKeyPress","flex","p","pl","opacity","size","onClick","fontSize","mr","ml","badgeContent","avatar","label","height","px","Boolean","onClose","PaperProps","border","mt","minWidth","py","wordBreak","borderTop","startIcon","autoHideDuration","anchorOrigin","vertical","horizontal","severity","_c","$RefreshReg$"],"sources":["C:/Users/hardik/Documents/Nft/src/components/layout/Navbar.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  IconButton,\r\n  InputBase,\r\n  Badge,\r\n  Menu,\r\n  MenuItem,\r\n  Avatar,\r\n  Chip,\r\n  Alert,\r\n  Snackbar,\r\n} from '@mui/material';\r\nimport { Link as RouterLink, useLocation, useNavigate } from 'react-router-dom';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\r\nimport AccountBalanceWalletIcon from '@mui/icons-material/AccountBalanceWallet';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport { useSearch } from '../../context/SearchContext';\r\nimport { useCart } from '../../context/CartContext';\r\n\r\n// Define window.ethereum for TypeScript\r\ndeclare global {\r\n  interface Window {\r\n    ethereum?: {\r\n      isMetaMask?: boolean;\r\n      request: (args: { method: string; params?: any[] }) => Promise<any>;\r\n      on: (eventName: string, callback: (...args: any[]) => void) => void;\r\n      removeListener: (eventName: string, callback: (...args: any[]) => void) => void;\r\n    };\r\n  }\r\n}\r\n\r\nconst Navbar = () => {\r\n  const [inputValue, setInputValue] = useState('');\r\n  const { handleSearch } = useSearch();\r\n  const { cartItemCount } = useCart();\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  \r\n  // Wallet states\r\n  const [walletConnected, setWalletConnected] = useState(false);\r\n  const [walletAddress, setWalletAddress] = useState('');\r\n  const [walletBalance, setWalletBalance] = useState('0');\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const [notification, setNotification] = useState<{\r\n    show: boolean;\r\n    message: string;\r\n    type: 'error' | 'info' | 'success' | 'warning';\r\n  }>({\r\n    show: false,\r\n    message: '',\r\n    type: 'info'\r\n  });\r\n  \r\n  // Check if MetaMask is installed\r\n  const isMetaMaskInstalled = () => {\r\n    return window.ethereum && window.ethereum.isMetaMask;\r\n  };\r\n  \r\n  // Format wallet address for display\r\n  const formatAddress = (address: string) => {\r\n    if (!address) return '';\r\n    return `${address.substring(0, 6)}...${address.substring(address.length - 4)}`;\r\n  };\r\n  \r\n  // Format balance to 4 decimal places\r\n  const formatBalance = (balanceInWei: string) => {\r\n    // Convert wei to ETH (1 ETH = 10^18 wei)\r\n    const ethBalance = parseInt(balanceInWei, 16) / Math.pow(10, 18);\r\n    return ethBalance.toFixed(4);\r\n  };\r\n\r\n  // Handle account changes from MetaMask\r\n  const handleAccountsChanged = (accounts: string[]) => {\r\n    if (accounts.length === 0) {\r\n      // User has disconnected all accounts\r\n      setWalletConnected(false);\r\n      setWalletAddress('');\r\n      setWalletBalance('0');\r\n      setNotification({\r\n        show: true,\r\n        message: 'Wallet disconnected',\r\n        type: 'info'\r\n      });\r\n    } else {\r\n      // User has changed the active account\r\n      setWalletAddress(accounts[0]);\r\n      getBalance(accounts[0]);\r\n    }\r\n  };\r\n\r\n  // Handle chain changes from MetaMask\r\n  const handleChainChanged = () => {\r\n    // Recommended by MetaMask to refresh the page on chain change\r\n    window.location.reload();\r\n  };\r\n\r\n  // Check for existing connection on mount\r\n  useEffect(() => {\r\n    const checkConnection = async () => {\r\n      if (isMetaMaskInstalled()) {\r\n        try {\r\n          // Check if user is already connected\r\n          const accounts = await window.ethereum!.request({ method: 'eth_accounts' });\r\n          if (accounts && accounts.length > 0) {\r\n            setWalletConnected(true);\r\n            setWalletAddress(accounts[0]);\r\n            getBalance(accounts[0]);\r\n          }\r\n          \r\n          // Add event listeners\r\n          window.ethereum!.on('accountsChanged', handleAccountsChanged);\r\n          window.ethereum!.on('chainChanged', handleChainChanged);\r\n        } catch (error) {\r\n          console.error('Failed to connect to MetaMask:', error);\r\n        }\r\n      }\r\n    };\r\n    \r\n    checkConnection();\r\n    \r\n    // Cleanup event listeners\r\n    return () => {\r\n      if (window.ethereum && window.ethereum.removeListener) {\r\n        window.ethereum.removeListener('accountsChanged', handleAccountsChanged);\r\n        window.ethereum.removeListener('chainChanged', handleChainChanged);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Sync input value with URL search param when on marketplace\r\n  useEffect(() => {\r\n    if (location.pathname === '/marketplace') {\r\n      const params = new URLSearchParams(location.search);\r\n      const searchQuery = params.get('search') || '';\r\n      setInputValue(searchQuery);\r\n    } else {\r\n      setInputValue('');\r\n    }\r\n  }, [location]);\r\n  \r\n  // Get ETH balance for the account\r\n  const getBalance = async (account: string) => {\r\n    if (!account || !isMetaMaskInstalled()) return;\r\n    \r\n    try {\r\n      const balance = await window.ethereum!.request({\r\n        method: 'eth_getBalance',\r\n        params: [account, 'latest']\r\n      });\r\n      \r\n      setWalletBalance(formatBalance(balance));\r\n    } catch (error) {\r\n      console.error('Error getting balance:', error);\r\n      setNotification({\r\n        show: true,\r\n        message: 'Failed to get wallet balance',\r\n        type: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const newValue = event.target.value;\r\n    setInputValue(newValue);\r\n    if (location.pathname === '/marketplace') {\r\n      handleSearch(newValue);\r\n    }\r\n  };\r\n\r\n  const handleSearchClick = () => {\r\n    if (inputValue.trim()) {\r\n      if (location.pathname !== '/marketplace') {\r\n        navigate(`/marketplace?search=${encodeURIComponent(inputValue.trim())}`);\r\n      } else {\r\n        handleSearch(inputValue.trim());\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (event.key === 'Enter') {\r\n      handleSearchClick();\r\n    }\r\n  };\r\n\r\n  const handleClearSearch = () => {\r\n    setInputValue('');\r\n    handleSearch('');\r\n  };\r\n\r\n  const handleCartClick = () => {\r\n    // Navigate to cart page\r\n    navigate('/cart');\r\n  };\r\n  \r\n  const handleConnectWallet = async () => {\r\n    if (!isMetaMaskInstalled()) {\r\n      setNotification({\r\n        show: true,\r\n        message: 'Please install MetaMask extension to connect a wallet',\r\n        type: 'warning'\r\n      });\r\n      window.open('https://metamask.io/download/', '_blank');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      // Request access to the user's accounts\r\n      const accounts = await window.ethereum!.request({ \r\n        method: 'eth_requestAccounts' \r\n      });\r\n      \r\n      if (accounts.length > 0) {\r\n        const account = accounts[0];\r\n        setWalletAddress(account);\r\n        setWalletConnected(true);\r\n        getBalance(account);\r\n        \r\n        setNotification({\r\n          show: true,\r\n          message: 'Wallet connected successfully',\r\n          type: 'success'\r\n        });\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error connecting to MetaMask:', error);\r\n      \r\n      // Handle user rejected request\r\n      if (error.code === 4001) {\r\n        setNotification({\r\n          show: true,\r\n          message: 'Connection request rejected by user',\r\n          type: 'info'\r\n        });\r\n      } else {\r\n        setNotification({\r\n          show: true,\r\n          message: 'Failed to connect wallet: ' + (error.message || 'Unknown error'),\r\n          type: 'error'\r\n        });\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handleDisconnectWallet = () => {\r\n    // MetaMask doesn't support programmatic disconnection via API\r\n    // We can only reset our app's state to simulate disconnection\r\n    setWalletConnected(false);\r\n    setWalletAddress('');\r\n    setWalletBalance('0');\r\n    setAnchorEl(null);\r\n    \r\n    setNotification({\r\n      show: true,\r\n      message: 'Wallet disconnected from application',\r\n      type: 'info'\r\n    });\r\n  };\r\n  \r\n  const handleWalletClick = (event: React.MouseEvent<HTMLElement>) => {\r\n    if (walletConnected) {\r\n      setAnchorEl(event.currentTarget);\r\n    } else {\r\n      handleConnectWallet();\r\n    }\r\n  };\r\n  \r\n  const handleCloseMenu = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  \r\n  const copyAddressToClipboard = () => {\r\n    navigator.clipboard.writeText(walletAddress);\r\n    setNotification({\r\n      show: true,\r\n      message: 'Address copied to clipboard',\r\n      type: 'success'\r\n    });\r\n    handleCloseMenu();\r\n  };\r\n  \r\n  const handleCloseNotification = () => {\r\n    setNotification(prev => ({ ...prev, show: false }));\r\n  };\r\n\r\n  return (\r\n    <AppBar \r\n      position=\"fixed\" \r\n      sx={{ \r\n        bgcolor: 'rgba(22, 28, 36, 0.8)',\r\n        backdropFilter: 'blur(6px)',\r\n      }}\r\n    >\r\n      <Toolbar sx={{ justifyContent: 'space-between' }}>\r\n        <Typography \r\n          variant=\"h6\" \r\n          component={RouterLink} \r\n          to=\"/\"\r\n          sx={{ \r\n            textDecoration: 'none',\r\n            color: 'inherit',\r\n            fontWeight: 'bold'\r\n          }}\r\n        >\r\n          NFT Marketplace\r\n        </Typography>\r\n\r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n          <Box\r\n            sx={{\r\n              position: 'relative',\r\n              bgcolor: 'rgba(255, 255, 255, 0.15)',\r\n              borderRadius: 1,\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              width: '300px',\r\n              transition: 'width 0.3s ease-in-out',\r\n              '&:hover': {\r\n                bgcolor: 'rgba(255, 255, 255, 0.25)',\r\n              },\r\n            }}\r\n          >\r\n            <InputBase\r\n              placeholder=\"Search NFTs...\"\r\n              value={inputValue}\r\n              onChange={handleInputChange}\r\n              onKeyPress={handleKeyPress}\r\n              sx={{\r\n                color: 'inherit',\r\n                flex: 1,\r\n                '& .MuiInputBase-input': {\r\n                  p: 1,\r\n                  pl: 2,\r\n                  width: '100%',\r\n                  '&::placeholder': {\r\n                    color: 'rgba(255, 255, 255, 0.7)',\r\n                    opacity: 1,\r\n                  },\r\n                },\r\n              }}\r\n            />\r\n            {inputValue && (\r\n              <IconButton \r\n                size=\"small\"\r\n                onClick={handleClearSearch}\r\n                sx={{ \r\n                  color: 'inherit',\r\n                  opacity: 0.7,\r\n                  p: 0.5,\r\n                }}\r\n              >\r\n                <ClearIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            )}\r\n            <IconButton \r\n              size=\"small\"\r\n              onClick={handleSearchClick}\r\n              sx={{ \r\n                color: 'inherit',\r\n                opacity: 0.7,\r\n                mr: 1,\r\n                ml: 0.5,\r\n              }}\r\n            >\r\n              <SearchIcon fontSize=\"small\" />\r\n            </IconButton>\r\n          </Box>\r\n\r\n          <Button\r\n            color=\"inherit\"\r\n            component={RouterLink}\r\n            to=\"/marketplace\"\r\n            sx={{\r\n              '&:hover': {\r\n                bgcolor: 'rgba(255, 255, 255, 0.1)',\r\n              }\r\n            }}\r\n          >\r\n            Marketplace\r\n          </Button>\r\n          <Button\r\n            color=\"inherit\"\r\n            component={RouterLink}\r\n            to=\"/create-nft\"\r\n            sx={{\r\n              '&:hover': {\r\n                bgcolor: 'rgba(255, 255, 255, 0.1)',\r\n              }\r\n            }}\r\n          >\r\n            Create NFT\r\n          </Button>\r\n          <Button\r\n            color=\"inherit\"\r\n            component={RouterLink}\r\n            to=\"/profile\"\r\n            sx={{\r\n              '&:hover': {\r\n                bgcolor: 'rgba(255, 255, 255, 0.1)',\r\n              }\r\n            }}\r\n          >\r\n            Profile\r\n          </Button>\r\n          \r\n          <IconButton \r\n            color=\"inherit\"\r\n            onClick={handleCartClick}\r\n            sx={{\r\n              ml: 1,\r\n              '&:hover': {\r\n                bgcolor: 'rgba(255, 255, 255, 0.1)',\r\n              }\r\n            }}\r\n          >\r\n            <Badge badgeContent={cartItemCount} color=\"error\">\r\n              <ShoppingCartIcon />\r\n            </Badge>\r\n          </IconButton>\r\n          \r\n          {walletConnected ? (\r\n            <>\r\n              <Chip\r\n                onClick={handleWalletClick}\r\n                avatar={<Avatar sx={{ bgcolor: '#ff9800' }}><AccountBalanceWalletIcon /></Avatar>}\r\n                label={\r\n                  <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                    <Typography variant=\"body2\" sx={{ mr: 1 }}>\r\n                      {formatAddress(walletAddress)}\r\n                    </Typography>\r\n                    <KeyboardArrowDownIcon fontSize=\"small\" />\r\n                  </Box>\r\n                }\r\n                variant=\"filled\"\r\n                sx={{ \r\n                  bgcolor: 'rgba(255, 255, 255, 0.15)',\r\n                  '&:hover': { bgcolor: 'rgba(255, 255, 255, 0.25)' },\r\n                  height: 36,\r\n                  borderRadius: 4,\r\n                  px: 0.5\r\n                }}\r\n              />\r\n              <Menu\r\n                anchorEl={anchorEl}\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleCloseMenu}\r\n                PaperProps={{\r\n                  sx: {\r\n                    bgcolor: 'rgba(22, 28, 36, 0.95)',\r\n                    backdropFilter: 'blur(6px)',\r\n                    border: '1px solid rgba(255, 255, 255, 0.1)',\r\n                    color: 'white',\r\n                    mt: 1.5,\r\n                    minWidth: 200\r\n                  }\r\n                }}\r\n              >\r\n                <Box sx={{ px: 2, py: 1 }}>\r\n                  <Typography variant=\"caption\" sx={{ opacity: 0.7 }}>Wallet</Typography>\r\n                  <Typography variant=\"body2\" sx={{ wordBreak: 'break-all' }}>{walletAddress}</Typography>\r\n                </Box>\r\n                <Box sx={{ px: 2, py: 1, borderTop: '1px solid rgba(255, 255, 255, 0.1)' }}>\r\n                  <Typography variant=\"caption\" sx={{ opacity: 0.7 }}>Balance</Typography>\r\n                  <Typography variant=\"body2\">{walletBalance} ETH</Typography>\r\n                </Box>\r\n                <MenuItem \r\n                  onClick={copyAddressToClipboard} \r\n                  sx={{ borderTop: '1px solid rgba(255, 255, 255, 0.1)', mt: 1 }}\r\n                >\r\n                  Copy Address\r\n                </MenuItem>\r\n                <MenuItem onClick={handleDisconnectWallet}>\r\n                  Disconnect\r\n                </MenuItem>\r\n              </Menu>\r\n            </>\r\n          ) : (\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<AccountBalanceWalletIcon />}\r\n              onClick={handleConnectWallet}\r\n              sx={{\r\n                bgcolor: '#ff9800',\r\n                color: 'white',\r\n                '&:hover': {\r\n                  bgcolor: '#f57c00',\r\n                },\r\n                ml: 1,\r\n                borderRadius: 4\r\n              }}\r\n            >\r\n              Connect MetaMask\r\n            </Button>\r\n          )}\r\n        </Box>\r\n      </Toolbar>\r\n      \r\n      {/* Notifications */}\r\n      <Snackbar \r\n        open={notification.show}\r\n        autoHideDuration={4000}\r\n        onClose={handleCloseNotification}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n      >\r\n        <Alert \r\n          onClose={handleCloseNotification} \r\n          severity={notification.type} \r\n          variant=\"filled\"\r\n          sx={{ width: '100%' }}\r\n        >\r\n          {notification.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Navbar; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}