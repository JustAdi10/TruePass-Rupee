{"ast":null,"code":"import React,{createContext,useState,useContext}from'react';import{useNavigate,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";const SearchContext=/*#__PURE__*/createContext(undefined);export const SearchProvider=_ref=>{let{children}=_ref;const[searchTerm,setSearchTerm]=useState('');const navigate=useNavigate();const location=useLocation();const handleSearch=term=>{setSearchTerm(term);// Only update URL if we're on the marketplace page\nif(location.pathname==='/marketplace'){// Update URL without navigating if we're already on marketplace\nconst newUrl=term?`/marketplace?search=${encodeURIComponent(term)}`:'/marketplace';window.history.replaceState(null,'',newUrl);}else{// Navigate to marketplace with search term if we're on a different page\nnavigate(`/marketplace?search=${encodeURIComponent(term)}`);}};return/*#__PURE__*/_jsx(SearchContext.Provider,{value:{searchTerm,setSearchTerm,handleSearch},children:children});};export const useSearch=()=>{const context=useContext(SearchContext);if(context===undefined){throw new Error('useSearch must be used within a SearchProvider');}return context;};","map":{"version":3,"names":["React","createContext","useState","useContext","useNavigate","useLocation","jsx","_jsx","SearchContext","undefined","SearchProvider","_ref","children","searchTerm","setSearchTerm","navigate","location","handleSearch","term","pathname","newUrl","encodeURIComponent","window","history","replaceState","Provider","value","useSearch","context","Error"],"sources":["C:/Users/hardik/Documents/Nft/src/context/SearchContext.tsx"],"sourcesContent":["import React, { createContext, useState, useContext, ReactNode } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\n\r\ntype SearchContextType = {\r\n  searchTerm: string;\r\n  setSearchTerm: (term: string) => void;\r\n  handleSearch: (term: string) => void;\r\n};\r\n\r\nconst SearchContext = createContext<SearchContextType | undefined>(undefined);\r\n\r\nexport const SearchProvider = ({ children }: { children: ReactNode }) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const handleSearch = (term: string) => {\r\n    setSearchTerm(term);\r\n    \r\n    // Only update URL if we're on the marketplace page\r\n    if (location.pathname === '/marketplace') {\r\n      // Update URL without navigating if we're already on marketplace\r\n      const newUrl = term \r\n        ? `/marketplace?search=${encodeURIComponent(term)}`\r\n        : '/marketplace';\r\n      window.history.replaceState(null, '', newUrl);\r\n    } else {\r\n      // Navigate to marketplace with search term if we're on a different page\r\n      navigate(`/marketplace?search=${encodeURIComponent(term)}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SearchContext.Provider value={{ searchTerm, setSearchTerm, handleSearch }}>\r\n      {children}\r\n    </SearchContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useSearch = () => {\r\n  const context = useContext(SearchContext);\r\n  if (context === undefined) {\r\n    throw new Error('useSearch must be used within a SearchProvider');\r\n  }\r\n  return context;\r\n}; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,UAAU,KAAmB,OAAO,CAC7E,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAQ5D,KAAM,CAAAC,aAAa,cAAGP,aAAa,CAAgCQ,SAAS,CAAC,CAE7E,MAAO,MAAM,CAAAC,cAAc,CAAGC,IAAA,EAA2C,IAA1C,CAAEC,QAAkC,CAAC,CAAAD,IAAA,CAClE,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAAa,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAY,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAY,YAAY,CAAIC,IAAY,EAAK,CACrCJ,aAAa,CAACI,IAAI,CAAC,CAEnB;AACA,GAAIF,QAAQ,CAACG,QAAQ,GAAK,cAAc,CAAE,CACxC;AACA,KAAM,CAAAC,MAAM,CAAGF,IAAI,CACf,uBAAuBG,kBAAkB,CAACH,IAAI,CAAC,EAAE,CACjD,cAAc,CAClBI,MAAM,CAACC,OAAO,CAACC,YAAY,CAAC,IAAI,CAAE,EAAE,CAAEJ,MAAM,CAAC,CAC/C,CAAC,IAAM,CACL;AACAL,QAAQ,CAAC,uBAAuBM,kBAAkB,CAACH,IAAI,CAAC,EAAE,CAAC,CAC7D,CACF,CAAC,CAED,mBACEX,IAAA,CAACC,aAAa,CAACiB,QAAQ,EAACC,KAAK,CAAE,CAAEb,UAAU,CAAEC,aAAa,CAAEG,YAAa,CAAE,CAAAL,QAAA,CACxEA,QAAQ,CACa,CAAC,CAE7B,CAAC,CAED,MAAO,MAAM,CAAAe,SAAS,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAC,OAAO,CAAGzB,UAAU,CAACK,aAAa,CAAC,CACzC,GAAIoB,OAAO,GAAKnB,SAAS,CAAE,CACzB,KAAM,IAAI,CAAAoB,KAAK,CAAC,gDAAgD,CAAC,CACnE,CACA,MAAO,CAAAD,OAAO,CAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}